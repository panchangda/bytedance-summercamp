{"remainingRequest":"D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\src\\views\\testdrive\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\src\\views\\testdrive\\index.vue","mtime":1625882854330},{"path":"D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HXProjects\\AdministrationSystem\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZmV0Y2hUZXN0RHJpdmVMaXN0LCB1cGRhdGVUZXN0RHJpdmUgfSBmcm9tICJAL2FwaS90YWJsZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBmaWx0ZXJzOiB7CiAgICBzdGF0dXNGaWx0ZXI6IGZ1bmN0aW9uIHN0YXR1c0ZpbHRlcihzdGF0dXMpIHsKICAgICAgdmFyIHN0YXR1c01hcCA9IHsKICAgICAgICAi5b6F5aSE55CGIjogImluZm8iLAogICAgICAgICLlt7LlpITnkIYiOiAic3VjY2VzcyIsCiAgICAgICAgImRlbGV0ZWQiOiAiZGFuZ2VyIgogICAgICB9OwogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c107CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBsaXN0UXVlcnk6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHNpemU6IDIwLAogICAgICAgIGltcG9ydGFuY2U6IHVuZGVmaW5lZCwKICAgICAgICB0aXRsZTogdW5kZWZpbmVkLAogICAgICAgIHR5cGU6IHVuZGVmaW5lZCwKICAgICAgICBzb3J0OiAnK2lkJwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VGVzdERyaXZlTGlzdDogZnVuY3Rpb24gZ2V0VGVzdERyaXZlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICBmZXRjaFRlc3REcml2ZUxpc3QodGhpcy5saXN0UXVlcnkucGFnZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhLml0ZW1zOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbDsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwgMS41ICogMTAwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZU1vZGlmeVN0YXR1czogZnVuY3Rpb24gaGFuZGxlTW9kaWZ5U3RhdHVzKHJvdywgc3RhdHVzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdXBkYXRlVGVzdERyaXZlKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAic3VjY2VzcyIpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZxTdWNjZXNzIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKCiAgICAgICAgICByb3cuc3RhdHVzID0gc3RhdHVzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2cRmFpbGVkIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLmnKrojrflj5bliLDov5Tlm57lgLwiLAogICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgIH0pOwoKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBoYW5kbGVEZWxldGUocm93LCBpbmRleCkgewogICAgLy8gICB0aGlzLiRub3RpZnkoewogICAgLy8gICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAvLyAgICAgbWVzc2FnZTogIkRlbGV0ZSBTdWNjZXNzZnVsbHkiLAogICAgLy8gICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgIC8vICAgICBkdXJhdGlvbjogMjAwMCwKICAgIC8vICAgfSk7CiAgICAvLyAgIHRoaXMudGFibGVEYXRhLnNwbGljZShpbmRleCwgMSk7CiAgICAvLyB9LAogICAgaGFuZGxlUGFnZVR1cm5pbmc6IGZ1bmN0aW9uIGhhbmRsZVBhZ2VUdXJuaW5nKGUpIHsKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZSA9IGU7CiAgICAgIHRoaXMuZ2V0VGVzdERyaXZlTGlzdCgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VGVzdERyaXZlTGlzdCgpOwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA,SAAA,kBAAA,EAAA,eAAA,QAAA,aAAA;AACA,eAAA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,MADA,EACA;AACA,UAAA,SAAA,GAAA;AACA,eAAA,MADA;AAEA,eAAA,SAFA;AAGA,mBAAA;AAHA,OAAA;AAKA,aAAA,SAAA,CAAA,MAAA,CAAA;AACA;AARA,GADA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,IADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,CAHA;AAIA,MAAA,SAAA,EAAA;AACA,QAAA,IAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,UAAA,EAAA,SAHA;AAIA,QAAA,KAAA,EAAA,SAJA;AAKA,QAAA,IAAA,EAAA,SALA;AAMA,QAAA,IAAA,EAAA;AANA;AAJA,KAAA;AAaA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA;AACA,MAAA,kBAAA,CAAA,KAAA,SAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,SAFA,EAEA,MAAA,IAFA,CAAA;AAGA,OANA;AAOA,KAVA;AAWA,IAAA,kBAXA,8BAWA,GAXA,EAWA,MAXA,EAWA;AAAA;;AACA,MAAA,eAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,IAAA,SAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,WADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;;AAIA,UAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AACA,SANA,MAMA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,UADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA;AACA,OAbA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,SADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;;AAIA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAnBA;AAoBA,KAhCA;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,iBA1CA,6BA0CA,CA1CA,EA0CA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AACA,WAAA,gBAAA;AACA;AA7CA,GA1BA;AAyEA,EAAA,OAzEA,qBAyEA;AACA,SAAA,gBAAA;AACA;AA3EA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <el-table\r\n      :data=\"tableData\"\r\n      v-loading=\"listLoading\"\r\n      style=\"width: 100%; margin-bottom: 20px\"\r\n      row-key=\"id\"\r\n      border\r\n    >\r\n    <el-table-column prop=\"date\" label=\"日期\" sortable width=\"180\">\r\n    </el-table-column>\r\n      <el-table-column prop=\"series\" label=\"车系\" sortable width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"type\" label=\"车型\" width=\"180\"> </el-table-column>\r\n      <el-table-column prop=\"city\" label=\"城市\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"姓名\"></el-table-column>\r\n      <el-table-column prop=\"phone\" label=\"电话\"></el-table-column>\r\n      <el-table-column label=\"Status\" class-name=\"status-col\" width=\"100\">\r\n        <template slot-scope=\"{ row }\">\r\n          <el-tag :type=\"row.status | statusFilter\">\r\n            {{ row.status }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"Actions\"\r\n        align=\"center\"\r\n        width=\"230\"\r\n        class-name=\"small-padding fixed-width\"\r\n      >\r\n        <template slot-scope=\"{ row }\">\r\n          <el-button\r\n            v-if=\"row.status != '待处理'\"\r\n            size=\"mini\"\r\n            type=\"success\"\r\n            @click=\"handleModifyStatus(row, '待处理')\"\r\n          >\r\n            撤销\r\n          </el-button>\r\n          <el-button\r\n            v-if=\"row.status != '已处理'\"\r\n            size=\"mini\"\r\n            @click=\"handleModifyStatus(row, '已处理')\"\r\n          >\r\n            处理\r\n          </el-button>\r\n          <!-- <el-button\r\n            v-if=\"row.status != 'deleted'\"\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(row, $index)\"\r\n          >\r\n            Delete\r\n          </el-button> -->\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination layout=\"prev, pager, next\" :total=\"total\" :page-size=\"listQuery.size\" :current-page.sync=\"listQuery.page\" @current-change=\"handlePageTurning\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { fetchTestDriveList, updateTestDrive } from \"@/api/table\";\r\nexport default {\r\n  filters: {\r\n    statusFilter(status) {\r\n      const statusMap = {\r\n       \"待处理\": \"info\",\r\n        \"已处理\": \"success\",\r\n        \"deleted\": \"danger\",\r\n      };\r\n      return statusMap[status];\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      listLoading: true,\r\n      tableData: [],\r\n      total:0,\r\n      listQuery: {\r\n        page: 1,\r\n        size: 20,\r\n        importance: undefined,\r\n        title: undefined,\r\n        type: undefined,\r\n        sort: '+id'\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getTestDriveList() {\r\n      this.listLoading = true;\r\n      fetchTestDriveList(this.listQuery.page).then((response) => {\r\n        this.tableData = response.data.items;\r\n        this.total = response.data.total;\r\n        setTimeout(() => {\r\n          this.listLoading = false;\r\n        }, 1.5 * 1000);\r\n      });\r\n    },\r\n    handleModifyStatus(row, status) {\r\n      updateTestDrive().then((response) => {\r\n        if (response.data == \"success\") {\r\n          this.$message({\r\n            message: \"操作Success\",\r\n            type: \"success\",\r\n          });\r\n          row.status = status;\r\n        } else {\r\n            this.$message({\r\n            message: \"操作Failed\",\r\n            type: \"error\",\r\n          });\r\n        }\r\n      }).catch(err=>{\r\n          this.$message({\r\n            message: \"未获取到返回值\",\r\n            type: \"error\",\r\n          });\r\n          console.log(err)\r\n      });\r\n    },\r\n    // handleDelete(row, index) {\r\n    //   this.$notify({\r\n    //     title: \"Success\",\r\n    //     message: \"Delete Successfully\",\r\n    //     type: \"success\",\r\n    //     duration: 2000,\r\n    //   });\r\n    //   this.tableData.splice(index, 1);\r\n    // },\r\n    handlePageTurning(e){\r\n      this.listQuery.page=e;\r\n      this.getTestDriveList()\r\n    }\r\n  },\r\n  created() {\r\n    this.getTestDriveList();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/views/testdrive"}]}